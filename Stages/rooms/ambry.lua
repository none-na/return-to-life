-- Generated by ProvEdit version 0.1 --
local STAGE_INFO = {
    name = "Bulwark's Ambry",
    subname = "Hidden Realm",
    width = 1920,
    height = 1056,
    music = ":nothing:"
}

local STAGE_LAYERS = {
    {
        depth = 12,
        sprite = "TileEmpyrean",
        origin = "RoR2Demake",
        tiles = {
            [97] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {2,7}, [20] = {3,4}, [34] = {1,5}, [44] = {3,4}, [46] = {1,5}, [15] = {11,3}, [23] = {3,7}, [21] = {1,5}, [33] = {1,4}, [47] = {3,7}, [45] = {1,5}, 
            },
            [49] = {
                [22] = {3,7}, [20] = {1,5}, [34] = {3,7}, [14] = {9,3}, [44] = {1,5}, [31] = {3,4}, [46] = {1,7}, [32] = {1,5}, [19] = {1,4}, [21] = {1,5}, [33] = {1,5}, [43] = {1,4}, [45] = {1,5}, 
            },
            [92] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {1,7}, [20] = {1,4}, [34] = {1,5}, [48] = {1,7}, [46] = {1,5}, [15] = {8,3}, [23] = {2,7}, [21] = {1,5}, [33] = {3,4}, [47] = {1,5}, [45] = {3,4}, 
            },
            [105] = {
                [20] = {8,6}, 
            },
            [62] = {
                [44] = {1,5}, [43] = {1,4}, [45] = {1,7}, 
            },
            [51] = {
                [22] = {2,7}, [20] = {1,5}, [34] = {4,7}, [14] = {9,3}, [44] = {4,5}, [31] = {4,4}, [46] = {4,7}, [32] = {4,6}, [39] = {9,6}, [19] = {2,4}, [21] = {1,5}, [33] = {4,6}, [43] = {4,4}, [45] = {4,6}, 
            },
            [100] = {
                [44] = {3,4}, [46] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [45] = {
                [22] = {3,7}, [20] = {1,5}, [34] = {2,7}, [44] = {1,5}, [31] = {3,4}, [46] = {1,7}, [32] = {1,5}, [19] = {1,4}, [21] = {1,5}, [16] = {8,6}, [33] = {1,5}, [43] = {3,4}, [45] = {1,5}, 
            },
            [63] = {
                [44] = {4,6}, [31] = {8,6}, [21] = {8,6}, [43] = {4,4}, [45] = {4,7}, 
            },
            [47] = {
                [22] = {3,7}, [20] = {1,5}, [34] = {3,7}, [44] = {1,5}, [31] = {1,4}, [46] = {1,7}, [32] = {1,5}, [19] = {3,4}, [21] = {1,5}, [33] = {1,5}, [43] = {3,4}, [45] = {1,5}, 
            },
            [37] = {
                [22] = {1,7}, [20] = {1,5}, [34] = {1,7}, [44] = {1,4}, [31] = {1,4}, [48] = {2,7}, [46] = {1,5}, [32] = {1,5}, [19] = {1,4}, [21] = {1,5}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [61] = {
                [44] = {1,5}, [30] = {9,6}, [43] = {3,4}, [45] = {2,7}, 
            },
            [41] = {
                [22] = {1,7}, [20] = {1,5}, [34] = {2,7}, [44] = {1,5}, [31] = {2,4}, [48] = {2,7}, [46] = {1,5}, [32] = {1,5}, [38] = {8,6}, [19] = {1,4}, [21] = {1,5}, [33] = {1,5}, [43] = {1,4}, [47] = {1,5}, [45] = {1,5}, 
            },
            [29] = {
                [34] = {1,7}, [44] = {2,4}, [31] = {1,4}, [48] = {3,7}, [46] = {1,5}, [32] = {1,5}, [27] = {10,3}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [33] = {
                [34] = {2,7}, [44] = {2,4}, [31] = {2,4}, [48] = {2,7}, [46] = {1,5}, [32] = {1,5}, [19] = {9,6}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [23] = {
                [34] = {1,7}, [44] = {3,4}, [31] = {1,4}, [46] = {1,5}, [32] = {1,5}, [40] = {9,3}, [33] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [71] = {
                [34] = {3,7}, [44] = {1,4}, [31] = {2,4}, [46] = {1,5}, [32] = {1,5}, [21] = {8,6}, [33] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [28] = {
                [34] = {1,7}, [44] = {2,4}, [31] = {3,4}, [48] = {3,7}, [46] = {1,5}, [32] = {1,5}, [27] = {10,3}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [58] = {
                [44] = {4,7}, [42] = {4,4}, [30] = {9,6}, [43] = {4,5}, 
            },
            [69] = {
                [34] = {0,7}, [44] = {3,4}, [31] = {0,4}, [46] = {1,5}, [32] = {0,6}, [33] = {0,5}, [47] = {2,7}, [45] = {1,5}, 
            },
            [20] = {
                [34] = {0,7}, [44] = {3,4}, [31] = {0,4}, [46] = {1,5}, [32] = {0,6}, [27] = {8,6}, [33] = {0,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [75] = {
                [20] = {9,6}, [34] = {1,7}, [44] = {2,4}, [31] = {1,4}, [46] = {1,5}, [32] = {1,5}, [33] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [57] = {
                [22] = {4,7}, [20] = {4,6}, [44] = {6,4}, [42] = {1,4}, [30] = {8,6}, [19] = {4,4}, [21] = {4,6}, [43] = {1,5}, [45] = {4,7}, 
            },
            [73] = {
                [34] = {1,7}, [44] = {3,4}, [31] = {1,4}, [46] = {1,5}, [32] = {1,5}, [33] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [83] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {1,7}, [20] = {3,4}, [34] = {1,5}, [31] = {2,4}, [48] = {3,7}, [46] = {1,5}, [32] = {1,5}, [39] = {8,6}, [23] = {2,7}, [21] = {1,5}, [33] = {1,5}, [47] = {1,5}, [45] = {1,4}, 
            },
            [59] = {
                [20] = {8,6}, [44] = {0,6}, [43] = {0,4}, [45] = {0,7}, 
            },
            [79] = {
                [22] = {1,5}, [20] = {1,4}, [34] = {2,7}, [44] = {1,4}, [31] = {1,4}, [46] = {1,5}, [32] = {1,5}, [23] = {3,7}, [21] = {1,5}, [33] = {1,5}, [47] = {3,7}, [45] = {1,5}, 
            },
            [91] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {2,7}, [20] = {2,4}, [34] = {1,5}, [48] = {1,7}, [46] = {1,5}, [23] = {3,7}, [21] = {1,5}, [33] = {2,4}, [47] = {1,5}, [45] = {2,4}, 
            },
            [87] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {2,7}, [20] = {3,4}, [34] = {1,5}, [48] = {3,7}, [46] = {1,5}, [23] = {1,7}, [21] = {1,5}, [33] = {1,4}, [47] = {1,5}, [45] = {1,4}, 
            },
            [99] = {
                [22] = {4,6}, [20] = {4,4}, [44] = {1,4}, [46] = {1,5}, [23] = {4,7}, [21] = {4,6}, [47] = {3,7}, [45] = {1,5}, 
            },
            [94] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {3,7}, [20] = {3,4}, [34] = {1,5}, [44] = {2,4}, [48] = {3,7}, [46] = {1,5}, [15] = {10,3}, [23] = {3,7}, [21] = {1,5}, [33] = {1,4}, [47] = {1,5}, [45] = {1,5}, 
            },
            [107] = {
                [43] = {9,6}, 
            },
            [102] = {
                [44] = {1,4}, [46] = {1,5}, [47] = {3,7}, [45] = {1,5}, 
            },
            [38] = {
                [22] = {3,7}, [20] = {1,5}, [34] = {2,7}, [44] = {7,5}, [31] = {3,4}, [48] = {3,7}, [46] = {1,5}, [32] = {1,5}, [19] = {2,4}, [21] = {1,5}, [33] = {1,5}, [43] = {0,4}, [47] = {1,5}, [45] = {1,5}, 
            },
            [65] = {
                [43] = {1,6}, 
            },
            [42] = {
                [22] = {1,7}, [20] = {1,5}, [34] = {2,7}, [44] = {1,5}, [31] = {2,4}, [48] = {1,7}, [46] = {1,5}, [32] = {1,5}, [38] = {9,6}, [19] = {2,4}, [21] = {1,5}, [33] = {1,5}, [43] = {1,4}, [47] = {1,5}, [45] = {1,5}, 
            },
            [64] = {
                [31] = {9,6}, [21] = {9,6}, [43] = {1,6}, 
            },
            [67] = {
                [22] = {8,6}, [44] = {3,4}, [46] = {1,5}, [32] = {9,6}, [47] = {2,7}, [45] = {1,5}, 
            },
            [30] = {
                [34] = {2,7}, [44] = {3,4}, [31] = {1,4}, [48] = {1,7}, [46] = {1,5}, [32] = {1,5}, [27] = {10,3}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [66] = {
                [44] = {0,4}, [46] = {0,6}, [32] = {8,6}, [47] = {0,7}, [45] = {0,5}, 
            },
            [34] = {
                [22] = {0,7}, [20] = {0,6}, [34] = {2,7}, [44] = {2,4}, [31] = {1,4}, [48] = {3,7}, [46] = {1,5}, [32] = {1,5}, [19] = {0,4}, [21] = {0,5}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [21] = {
                [34] = {1,7}, [44] = {3,4}, [31] = {2,4}, [46] = {1,5}, [32] = {1,5}, [40] = {8,3}, [27] = {9,6}, [33] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [26] = {
                [34] = {3,7}, [44] = {3,4}, [31] = {1,4}, [48] = {1,7}, [46] = {1,5}, [32] = {1,5}, [40] = {11,3}, [27] = {8,3}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [55] = {
                [22] = {2,7}, [20] = {1,5}, [44] = {1,5}, [42] = {3,4}, [31] = {9,6}, [46] = {0,7}, [19] = {1,4}, [21] = {1,5}, [43] = {1,5}, [45] = {7,4}, 
            },
            [82] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {3,7}, [20] = {2,4}, [34] = {1,5}, [44] = {4,4}, [31] = {3,4}, [48] = {1,7}, [46] = {1,5}, [32] = {1,5}, [23] = {3,7}, [21] = {1,5}, [33] = {1,5}, [47] = {1,5}, [45] = {6,5}, 
            },
            [56] = {
                [22] = {3,7}, [20] = {1,5}, [44] = {1,5}, [42] = {3,4}, [46] = {5,6}, [19] = {3,4}, [21] = {1,5}, [43] = {1,5}, [47] = {5,7}, [45] = {6,4}, 
            },
            [78] = {
                [22] = {1,5}, [20] = {1,4}, [34] = {2,7}, [44] = {1,4}, [31] = {2,4}, [46] = {1,5}, [32] = {1,5}, [23] = {3,7}, [21] = {1,5}, [33] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [90] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {2,7}, [20] = {2,4}, [34] = {1,5}, [48] = {1,7}, [46] = {1,5}, [23] = {2,7}, [21] = {1,5}, [33] = {3,4}, [47] = {1,5}, [45] = {2,4}, 
            },
            [53] = {
                [22] = {3,7}, [20] = {1,5}, [14] = {11,3}, [19] = {3,4}, [21] = {1,5}, 
            },
            [54] = {
                [22] = {3,7}, [20] = {1,5}, [44] = {0,6}, [42] = {0,4}, [31] = {8,6}, [19] = {1,4}, [21] = {1,5}, [43] = {0,6}, [45] = {0,7}, 
            },
            [86] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {2,7}, [20] = {1,4}, [34] = {1,5}, [48] = {1,7}, [46] = {1,5}, [32] = {11,3}, [23] = {2,7}, [21] = {1,5}, [33] = {1,4}, [47] = {1,5}, [45] = {2,4}, 
            },
            [50] = {
                [22] = {1,7}, [20] = {1,5}, [34] = {1,7}, [14] = {9,3}, [44] = {1,5}, [31] = {1,4}, [46] = {1,7}, [32] = {1,5}, [39] = {8,6}, [19] = {2,4}, [21] = {1,5}, [33] = {1,5}, [43] = {1,4}, [45] = {1,5}, 
            },
            [96] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {1,7}, [20] = {3,4}, [34] = {1,5}, [44] = {1,4}, [48] = {4,7}, [46] = {1,5}, [15] = {10,3}, [23] = {2,7}, [21] = {1,5}, [33] = {3,4}, [47] = {1,5}, [45] = {1,5}, 
            },
            [93] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {3,7}, [20] = {2,4}, [34] = {1,5}, [44] = {0,4}, [48] = {2,7}, [46] = {1,5}, [15] = {10,3}, [23] = {3,7}, [21] = {1,5}, [33] = {2,4}, [47] = {1,5}, [45] = {1,5}, 
            },
            [52] = {
                [22] = {3,7}, [20] = {1,5}, [14] = {10,3}, [19] = {2,4}, [21] = {1,5}, 
            },
            [104] = {
                [44] = {4,4}, [46] = {4,5}, [47] = {4,7}, [45] = {4,5}, 
            },
            [101] = {
                [44] = {2,4}, [46] = {1,5}, [47] = {2,7}, [45] = {1,5}, 
            },
            [46] = {
                [22] = {3,7}, [20] = {1,5}, [34] = {1,7}, [44] = {1,5}, [31] = {3,4}, [46] = {1,7}, [32] = {1,5}, [19] = {2,4}, [21] = {1,5}, [16] = {9,6}, [33] = {1,5}, [43] = {2,4}, [45] = {1,5}, 
            },
            [48] = {
                [22] = {1,7}, [20] = {1,5}, [34] = {1,7}, [14] = {8,3}, [44] = {1,5}, [31] = {3,4}, [46] = {1,7}, [32] = {1,5}, [19] = {2,4}, [21] = {1,5}, [33] = {1,5}, [43] = {1,4}, [45] = {1,5}, 
            },
            [39] = {
                [22] = {1,7}, [20] = {1,5}, [34] = {3,7}, [44] = {1,5}, [31] = {3,4}, [48] = {1,7}, [46] = {1,5}, [32] = {1,5}, [19] = {1,4}, [21] = {1,5}, [33] = {1,5}, [43] = {1,4}, [47] = {1,5}, [45] = {1,5}, 
            },
            [43] = {
                [22] = {2,7}, [20] = {1,5}, [34] = {1,7}, [44] = {1,5}, [31] = {1,4}, [48] = {2,7}, [46] = {1,5}, [32] = {1,5}, [19] = {1,4}, [21] = {1,5}, [33] = {1,5}, [43] = {3,4}, [47] = {1,5}, [45] = {1,5}, 
            },
            [60] = {
                [20] = {9,6}, [44] = {1,5}, [30] = {8,6}, [43] = {1,4}, [45] = {3,7}, 
            },
            [31] = {
                [34] = {3,7}, [44] = {1,4}, [31] = {1,4}, [48] = {2,7}, [46] = {1,5}, [32] = {1,5}, [27] = {11,3}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [35] = {
                [22] = {3,7}, [20] = {1,5}, [34] = {2,7}, [44] = {1,4}, [31] = {3,4}, [48] = {3,7}, [46] = {1,5}, [32] = {1,5}, [19] = {2,4}, [21] = {1,5}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [70] = {
                [34] = {1,7}, [44] = {2,4}, [31] = {1,4}, [46] = {1,5}, [32] = {1,5}, [33] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [24] = {
                [34] = {1,7}, [44] = {3,4}, [31] = {3,4}, [48] = {0,7}, [46] = {1,5}, [32] = {1,5}, [40] = {9,3}, [33] = {1,5}, [47] = {7,4}, [45] = {1,5}, 
            },
            [27] = {
                [34] = {3,7}, [44] = {2,4}, [31] = {1,4}, [48] = {1,7}, [46] = {1,5}, [32] = {1,5}, [27] = {9,3}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [68] = {
                [22] = {9,6}, [44] = {3,4}, [46] = {1,5}, [47] = {3,7}, [45] = {1,5}, 
            },
            [16] = {
                [44] = {8,6}, 
            },
            [19] = {
                [44] = {0,4}, [46] = {0,6}, [47] = {0,7}, [45] = {0,6}, 
            },
            [74] = {
                [20] = {8,6}, [34] = {1,7}, [44] = {3,4}, [31] = {2,4}, [46] = {1,5}, [32] = {1,5}, [33] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [72] = {
                [34] = {1,7}, [44] = {2,4}, [31] = {1,4}, [46] = {1,5}, [32] = {1,5}, [21] = {9,6}, [33] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [81] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {3,7}, [20] = {1,4}, [34] = {1,5}, [44] = {3,4}, [31] = {1,4}, [48] = {3,7}, [46] = {1,5}, [32] = {1,5}, [23] = {2,7}, [21] = {1,5}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [77] = {
                [22] = {0,5}, [20] = {0,4}, [34] = {3,7}, [44] = {3,4}, [31] = {1,4}, [46] = {1,5}, [32] = {1,5}, [23] = {0,7}, [21] = {0,6}, [33] = {1,5}, [47] = {3,7}, [45] = {1,5}, 
            },
            [89] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {1,7}, [20] = {1,4}, [34] = {1,5}, [48] = {2,7}, [46] = {1,5}, [23] = {1,7}, [21] = {1,5}, [33] = {2,4}, [47] = {1,5}, [45] = {1,4}, 
            },
            [85] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {2,7}, [20] = {2,4}, [34] = {1,5}, [48] = {3,7}, [46] = {1,5}, [32] = {8,3}, [23] = {2,7}, [21] = {1,5}, [33] = {1,4}, [47] = {1,5}, [45] = {2,4}, 
            },
            [98] = {
                [22] = {1,5}, [35] = {4,5}, [36] = {4,7}, [20] = {1,4}, [34] = {4,5}, [44] = {1,4}, [46] = {1,5}, [23] = {3,7}, [21] = {1,5}, [33] = {4,4}, [47] = {1,7}, [45] = {1,5}, 
            },
            [95] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {1,7}, [20] = {2,4}, [34] = {1,5}, [44] = {3,4}, [48] = {2,7}, [46] = {1,5}, [15] = {9,3}, [23] = {1,7}, [21] = {1,5}, [33] = {1,4}, [47] = {1,5}, [45] = {1,5}, 
            },
            [106] = {
                [20] = {9,6}, [43] = {8,6}, 
            },
            [103] = {
                [44] = {2,4}, [46] = {1,5}, [47] = {2,7}, [45] = {1,5}, 
            },
            [40] = {
                [22] = {3,7}, [20] = {1,5}, [34] = {1,7}, [44] = {1,5}, [31] = {1,4}, [48] = {2,7}, [46] = {1,5}, [32] = {1,5}, [19] = {1,4}, [21] = {1,5}, [33] = {1,5}, [43] = {2,4}, [47] = {1,5}, [45] = {1,5}, 
            },
            [44] = {
                [22] = {1,7}, [20] = {1,5}, [34] = {1,7}, [44] = {1,5}, [31] = {1,4}, [48] = {4,7}, [46] = {6,4}, [32] = {1,5}, [19] = {1,4}, [21] = {1,5}, [33] = {1,5}, [43] = {3,4}, [47] = {4,6}, [45] = {1,5}, 
            },
            [32] = {
                [34] = {3,7}, [44] = {2,4}, [31] = {1,4}, [48] = {3,7}, [46] = {1,5}, [32] = {1,5}, [19] = {8,6}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [36] = {
                [22] = {1,7}, [20] = {1,5}, [34] = {2,7}, [44] = {1,4}, [31] = {2,4}, [48] = {2,7}, [46] = {1,5}, [32] = {1,5}, [19] = {1,4}, [21] = {1,5}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [22] = {
                [34] = {1,7}, [44] = {3,4}, [31] = {1,4}, [46] = {1,5}, [32] = {1,5}, [40] = {10,3}, [33] = {1,5}, [47] = {2,7}, [45] = {1,5}, 
            },
            [25] = {
                [34] = {3,7}, [44] = {3,4}, [31] = {3,4}, [48] = {2,7}, [46] = {1,5}, [32] = {1,5}, [40] = {9,3}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [17] = {
                [44] = {9,6}, 
            },
            [80] = {
                [22] = {1,5}, [35] = {0,5}, [36] = {0,7}, [20] = {1,4}, [34] = {1,5}, [44] = {1,4}, [31] = {3,4}, [48] = {0,7}, [46] = {1,5}, [32] = {1,5}, [23] = {3,7}, [21] = {1,5}, [33] = {1,5}, [47] = {1,5}, [45] = {1,5}, 
            },
            [76] = {
                [34] = {3,7}, [44] = {3,4}, [31] = {2,4}, [46] = {1,5}, [32] = {1,5}, [33] = {1,5}, [47] = {1,7}, [45] = {1,5}, 
            },
            [88] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {1,7}, [20] = {2,4}, [34] = {1,5}, [48] = {3,7}, [46] = {1,5}, [23] = {2,7}, [21] = {1,5}, [33] = {3,4}, [47] = {1,5}, [45] = {2,4}, 
            },
            [84] = {
                [22] = {1,5}, [35] = {1,5}, [36] = {3,7}, [20] = {1,4}, [34] = {1,5}, [31] = {4,4}, [48] = {1,7}, [46] = {1,5}, [32] = {4,5}, [39] = {9,6}, [23] = {1,7}, [21] = {1,5}, [33] = {6,5}, [47] = {1,5}, [45] = {2,4}, 
            },
        }
    },
    {
        depth = 11,
        sprite = "TileEmpyrean",
        origin = "RoR2Demake",
        tiles = {
            [47] = {
                [42] = {4,3}, [30] = {4,3}, 
            },
            [61] = {
                [42] = {0,3}, 
            },
            [41] = {
                [18] = {1,3}, 
            },
            [33] = {
                [30] = {2,3}, 
            },
            [71] = {
                [30] = {4,3}, 
            },
            [69] = {
                [43] = {4,3}, 
            },
            [20] = {
                [43] = {3,3}, 
            },
            [79] = {
                [19] = {6,0}, 
            },
            [87] = {
                [32] = {4,3}, 
            },
            [99] = {
                [43] = {5,3}, 
            },
            [94] = {
                [32] = {2,3}, 
            },
            [42] = {
                [18] = {3,3}, 
            },
            [30] = {
                [30] = {2,3}, [43] = {5,3}, 
            },
            [21] = {
                [30] = {2,3}, [43] = {3,3}, 
            },
            [82] = {
                [30] = {5,3}, 
            },
            [53] = {
                [18] = {3,3}, 
            },
            [54] = {
                [18] = {4,3}, 
            },
            [96] = {
                [32] = {3,3}, 
            },
            [52] = {
                [18] = {1,3}, 
            },
            [46] = {
                [42] = {0,3}, 
            },
            [48] = {
                [42] = {5,3}, [30] = {2,3}, 
            },
            [39] = {
                [42] = {1,3}, 
            },
            [43] = {
                [30] = {6,0}, 
            },
            [60] = {
                [42] = {0,3}, 
            },
            [31] = {
                [30] = {1,3}, [43] = {1,3}, 
            },
            [74] = {
                [43] = {5,3}, 
            },
            [72] = {
                [30] = {2,3}, 
            },
            [81] = {
                [30] = {5,3}, 
            },
            [85] = {
                [44] = {5,3}, [19] = {4,3}, 
            },
            [98] = {
                [43] = {3,3}, 
            },
            [95] = {
                [32] = {3,3}, [43] = {4,3}, 
            },
            [103] = {
                [43] = {1,3}, 
            },
            [40] = {
                [18] = {4,3}, [42] = {1,3}, 
            },
            [44] = {
                [35] = {7,1}, [36] = {7,1}, [34] = {7,1}, [31] = {7,1}, [42] = {7,3}, [30] = {7,0}, [32] = {7,2}, [38] = {7,2}, [37] = {7,2}, [40] = {7,1}, [39] = {7,2}, [33] = {7,1}, [41] = {7,2}, 
            },
            [32] = {
                [30] = {1,3}, 
            },
            [25] = {
                [43] = {2,3}, 
            },
            [80] = {
                [22] = {7,1}, [24] = {7,2}, [20] = {7,1}, [28] = {7,2}, [29] = {7,3}, [26] = {7,2}, [27] = {7,2}, [23] = {7,2}, [25] = {7,2}, [19] = {7,0}, [21] = {7,1}, 
            },
            [88] = {
                [32] = {5,3}, 
            },
            [84] = {
                [44] = {2,3}, [19] = {0,3}, 
            },
        }
    },
    {
        depth = 12,
        sprite = "Tile16Dead",
        origin = "Vanilla",
        tiles = {
            [49] = {
                [18] = {0,6}, [15] = {0,6}, [16] = {0,6}, [17] = {0,6}, 
            },
            [62] = {
                [42] = {0,6}, 
            },
            [37] = {
                [18] = {0,6}, [16] = {0,6}, [17] = {0,6}, 
            },
            [58] = {
                [40] = {0,6}, [39] = {0,6}, [41] = {0,6}, 
            },
            [75] = {
                [42] = {0,6}, [43] = {0,6}, [41] = {0,6}, 
            },
            [38] = {
                [30] = {0,6}, [28] = {0,6}, [29] = {0,6}, 
            },
            [30] = {
                [30] = {0,6}, [28] = {0,6}, [29] = {0,6}, 
            },
            [34] = {
                [42] = {0,6}, [40] = {0,6}, [43] = {0,6}, [41] = {0,6}, 
            },
            [90] = {
                [31] = {0,6}, [30] = {0,6}, [32] = {0,6}, 
            },
            [54] = {
                [41] = {0,6}, 
            },
            [50] = {
                [30] = {0,6}, 
            },
            [96] = {
                [18] = {0,6}, [31] = {0,6}, [32] = {0,6}, [19] = {0,6}, [16] = {0,6}, [17] = {0,6}, 
            },
            [93] = {
                [18] = {0,6}, [19] = {0,6}, [16] = {0,6}, [17] = {0,6}, 
            },
            [52] = {
                [18] = {0,6}, [15] = {0,6}, [16] = {0,6}, [17] = {0,6}, 
            },
            [27] = {
                [30] = {0,6}, [28] = {0,6}, [29] = {0,6}, 
            },
            [74] = {
                [30] = {0,6}, [28] = {0,6}, [29] = {0,6}, 
            },
            [22] = {
                [42] = {0,6}, [43] = {0,6}, [41] = {0,6}, 
            },
            [25] = {
                [42] = {0,6}, [43] = {0,6}, [41] = {0,6}, 
            },
            [88] = {
                [18] = {0,6}, [19] = {0,6}, [17] = {0,6}, 
            },
        }
    },
}

local STAGE_COLLISION = {
    ["BNoSpawn"] = {
        {102,92}, {102,90}, {102,88}, {100,92}, {98,92}, {96,92}, {94,92}, {92,92}, {90,92}, {88,94}, {88,96}, {86,96}, {84,96}, {82,96}, {80,96}, {78,96}, {76,96}, {74,96}, {72,96}, {70,96}, 
        {68,96}, {66,96}, {64,96}, {62,96}, {60,96}, {58,96}, {56,96}, {54,96}, {52,96}, {50,96}, {48,96}, {48,94}, {46,94}, {44,94}, {42,94}, {40,94}, {38,94}, {38,92}, {38,90}, {42,54}, 
        {40,54}, {40,66}, {40,64}, {100,68}, {98,68}, {96,68}, {94,68}, {92,68}, {90,68}, {88,68}, {86,68}, {84,68}, {82,68}, {80,68}, {78,68}, {76,68}, {74,68}, {72,68}, {70,68}, {68,68}, 
        {66,68}, {64,68}, {62,68}, {60,68}, {58,68}, {56,68}, {54,68}, {52,68}, {50,68}, {48,68}, {46,68}, {44,68}, {42,68}, {40,68}, {102,68}, {102,66}, {102,64}, {66,38}, {64,38}, {68,44}, 
        {68,42}, {68,40}, {112,44}, {110,44}, {108,44}, {106,44}, {104,44}, {102,44}, {100,44}, {98,44}, {96,44}, {94,44}, {92,44}, {90,44}, {88,44}, {86,44}, {84,44}, {82,44}, {80,44}, {78,44}, 
        {76,44}, {74,44}, {72,44}, {70,44}, {114,44}, {114,42}, {114,40}, {120,40}, {118,40}, {128,42}, {126,42}, {136,44}, {134,44}, {144,42}, {142,42}, {150,40}, {148,40}, {154,44}, {154,42}, {196,46}, 
        {194,46}, {192,46}, {190,46}, {188,46}, {186,46}, {184,46}, {182,46}, {180,46}, {178,46}, {176,46}, {174,46}, {172,46}, {170,46}, {168,46}, {166,46}, {164,46}, {162,46}, {160,46}, {158,46}, {156,46}, 
        {154,46}, {198,46}, {198,44}, {198,42}, {212,40}, {210,40}, {214,86}, {212,86}, {208,92}, {208,90}, {208,94}, {206,94}, {204,94}, {202,94}, {200,94}, {198,94}, {196,94}, {194,94}, {192,96}, {190,96}, 
        {188,96}, {186,96}, {184,96}, {182,96}, {180,96}, {178,96}, {176,96}, {174,96}, {172,96}, {170,96}, {168,96}, {166,96}, {164,96}, {162,96}, {160,96}, {158,94}, {156,94}, {154,94}, {152,94}, {150,94}, 
        {148,94}, {146,94}, {144,94}, {142,94}, {140,94}, {138,94}, {136,94}, {134,94}, {132,94}, {132,92}, {132,90}, {118,88}, {124,90}, {122,90}, {120,90}, {118,90}, {126,90}, {126,88}, {130,86}, {128,86}, 
        {126,86}, {124,86}, {122,86}, {120,86}, {118,86}, {108,90}, {108,88}, {108,86}, {110,92}, {112,92}, {114,90}, {116,88}, {116,86}, {116,84}, {114,84}, {112,84}, {110,84}, {108,84}, {102,78}, {100,78}, 
        {110,62}, {108,62}, {116,60}, {114,60}, {122,60}, {120,60}, {128,62}, {126,62}, {134,64}, {132,64}, {168,78}, {166,78}, {196,70}, {196,68}, {196,72}, {194,72}, {192,72}, {190,72}, {188,72}, {186,72}, 
        {184,72}, {182,72}, {180,72}, {178,72}, {176,72}, {174,72}, {172,72}, {170,72}, {168,72}, {166,72}, {164,72}, {162,72}, {160,72}, {160,70}, {158,68}, {156,68}, {154,68}, {152,68}, {150,68}, {148,68}, 
        {146,68}, {144,68}, {142,68}, {140,68}, {138,68}, {138,66}, {138,64}, 
    },
    ["B"] = {
        {34,88}, {32,88}, {198,40}, {196,40}, {194,40}, {192,40}, {190,40}, {188,40}, {186,40}, {184,40}, {182,40}, {180,40}, {178,40}, {176,40}, {174,40}, {172,40}, {170,40}, {168,40}, {166,40}, {164,40}, 
        {162,40}, {160,40}, {158,40}, {156,40}, {154,40}, {114,38}, {112,38}, {110,38}, {108,38}, {106,38}, {104,38}, {102,38}, {100,38}, {98,38}, {96,38}, {94,38}, {92,38}, {90,38}, {88,38}, {86,38}, 
        {84,38}, {82,38}, {80,38}, {78,38}, {76,38}, {74,38}, {72,38}, {68,38}, {70,38}, {102,62}, {100,62}, {98,62}, {96,62}, {94,62}, {92,62}, {90,62}, {88,62}, {86,62}, {84,62}, {82,62}, 
        {80,62}, {78,62}, {76,62}, {74,62}, {72,62}, {70,62}, {68,62}, {66,62}, {64,62}, {62,62}, {60,62}, {58,62}, {56,62}, {54,62}, {52,62}, {50,62}, {48,62}, {46,62}, {44,62}, {42,62}, 
        {40,62}, {74,88}, {72,88}, {70,88}, {68,88}, {66,88}, {64,88}, {62,88}, {60,88}, {58,88}, {56,88}, {54,88}, {52,88}, {50,88}, {48,88}, {46,88}, {44,88}, {42,88}, {40,88}, {38,88}, 
        {102,86}, {100,86}, {98,86}, {96,86}, {94,86}, {92,86}, {90,86}, {88,86}, {86,86}, {84,86}, {82,86}, {80,86}, {78,86}, {76,86}, {84,76}, {82,76}, {168,62}, {166,62}, {164,62}, {162,62}, 
        {160,62}, {158,62}, {156,62}, {154,62}, {152,62}, {150,62}, {148,62}, {146,62}, {144,62}, {142,62}, {140,62}, {138,62}, {172,64}, {170,64}, {196,66}, {194,66}, {192,66}, {190,66}, {188,66}, {186,66}, 
        {184,66}, {182,66}, {180,66}, {178,66}, {176,66}, {174,66}, {208,88}, {206,88}, {204,88}, {202,88}, {200,88}, {198,88}, {196,88}, {194,88}, {192,88}, {190,88}, {188,88}, {186,88}, {184,90}, {182,90}, 
        {180,90}, {178,90}, {176,90}, {174,90}, {172,90}, {170,90}, {168,90}, {166,90}, {164,88}, {162,88}, {160,88}, {158,88}, {156,88}, {154,88}, {152,88}, {150,88}, {148,88}, {146,88}, {144,88}, {142,88}, 
        {140,88}, {138,88}, {136,88}, {134,88}, {132,88}, 
    },
    ["Rope"] = {
        {160,58}, {160,56}, {160,54}, {160,52}, {160,50}, {160,48}, {160,46}, {160,44}, {160,42}, {160,40}, {88,84}, {88,82}, {88,80}, {88,78}, {88,76}, {88,74}, {88,72}, {88,70}, {88,68}, {88,66}, 
        {88,64}, {88,62}, 
    },
    ["BossSpawn"] = {
        {164,88}, {162,88}, {160,88}, {158,88}, {156,88}, {154,88}, {152,88}, {150,88}, {148,88}, {146,88}, {144,88}, {142,88}, {140,88}, {138,88}, {136,88}, {134,88}, {184,90}, {182,90}, {180,90}, {178,90}, 
        {176,90}, {174,90}, {172,90}, {170,90}, {168,90}, {166,90}, {208,88}, {206,88}, {204,88}, {202,88}, {200,88}, {198,88}, {196,88}, {194,88}, {192,88}, {190,88}, {188,88}, {186,88}, {198,40}, {196,40}, 
        {194,40}, {192,40}, {190,40}, {188,40}, {186,40}, {184,40}, {182,40}, {180,40}, {178,40}, {176,40}, {174,40}, {172,40}, {170,40}, {168,40}, {166,40}, {164,40}, {162,40}, {160,40}, {158,40}, {156,40}, 
        {154,40}, {196,66}, {194,66}, {192,66}, {190,66}, {188,66}, {186,66}, {184,66}, {182,66}, {180,66}, {178,66}, {176,66}, {174,66}, {168,62}, {166,62}, {164,62}, {162,62}, {160,62}, {158,62}, {156,62}, 
        {154,62}, {152,62}, {150,62}, {148,62}, {146,62}, {144,62}, {142,62}, {140,62}, {138,62}, {114,38}, {112,38}, {110,38}, {108,38}, {106,38}, {104,38}, {102,38}, {100,38}, {98,38}, {96,38}, {94,38}, 
        {92,38}, {90,38}, {88,38}, {86,38}, {84,38}, {82,38}, {80,38}, {78,38}, {76,38}, {74,38}, {72,38}, {70,38}, {68,38}, {102,62}, {100,62}, {98,62}, {96,62}, {94,62}, {92,62}, {90,62}, 
        {88,62}, {86,62}, {84,62}, {82,62}, {80,62}, {78,62}, {76,62}, {74,62}, {72,62}, {70,62}, {68,62}, {66,62}, {64,62}, {62,62}, {60,62}, {58,62}, {56,62}, {54,62}, {52,62}, {50,62}, 
        {48,62}, {46,62}, {44,62}, {42,62}, {40,62}, {102,86}, {100,86}, {98,86}, {96,86}, {94,86}, {92,86}, {90,86}, {88,86}, {86,86}, {84,86}, {82,86}, {80,86}, {78,86}, {76,86}, {74,88}, 
        {72,88}, {70,88}, {68,88}, {66,88}, {64,88}, {62,88}, {60,88}, {58,88}, {56,88}, {54,88}, {52,88}, {50,88}, {48,88}, {46,88}, {44,88}, {42,88}, {40,88}, {38,88}, 
    },
    ["BossSpawn2"] = {
        {102,86}, {100,86}, {98,86}, {96,86}, {94,86}, {92,86}, {90,86}, {88,86}, {86,86}, {84,86}, {82,86}, {80,86}, {78,86}, {76,86}, {74,88}, {72,88}, {70,88}, {68,88}, {66,88}, {64,88}, 
        {62,88}, {60,88}, {58,88}, {56,88}, {54,88}, {52,88}, {50,88}, {48,88}, {46,88}, {44,88}, {42,88}, {40,88}, {38,88}, {102,62}, {100,62}, {98,62}, {96,62}, {94,62}, {92,62}, {90,62}, 
        {88,62}, {86,62}, {84,62}, {82,62}, {80,62}, {78,62}, {76,62}, {74,62}, {72,62}, {70,62}, {68,62}, {66,62}, {64,62}, {62,62}, {60,62}, {58,62}, {56,62}, {54,62}, {52,62}, {50,62}, 
        {48,62}, {46,62}, {44,62}, {42,62}, {40,62}, {114,38}, {112,38}, {110,38}, {108,38}, {106,38}, {104,38}, {102,38}, {100,38}, {98,38}, {96,38}, {94,38}, {92,38}, {90,38}, {88,38}, {86,38}, 
        {84,38}, {82,38}, {80,38}, {78,38}, {76,38}, {74,38}, {72,38}, {70,38}, {68,38}, {198,40}, {196,40}, {194,40}, {192,40}, {190,40}, {188,40}, {186,40}, {184,40}, {182,40}, {180,40}, {178,40}, 
        {176,40}, {174,40}, {172,40}, {170,40}, {168,40}, {166,40}, {164,40}, {162,40}, {160,40}, {158,40}, {156,40}, {154,40}, {164,88}, {162,88}, {160,88}, {158,88}, {156,88}, {154,88}, {152,88}, {150,88}, 
        {148,88}, {146,88}, {144,88}, {142,88}, {140,88}, {138,88}, {136,88}, {134,88}, 
    },
}

local STAGE_OBJECTS = {
    {
        "Geyser", "Vanilla",
        {
            {201,88}, {58,62}, 
        }
    },
}

local STAGE_BACKGROUNDS = {
    [10000] = {"VoidBG1", "RoR2Demake", 1, 1, 0, 0, 0, 0, 0, 0 },
}

local STAGE_INTERACTABLES = {
    {"Barrel1", "Vanilla"},
    {"Barrel2", "Vanilla"},
    {"Chest1", "Vanilla"},
    {"Chest2", "Vanilla"},
    {"Drone2", "Vanilla"},
    {"Drone3", "Vanilla"},
    {"Drone4", "Vanilla"},
    {"Drone5", "Vanilla"},
}

local STAGE_ENEMIES = {
    {"Wandering Vagrant", "Vanilla"},
    {"Stone Golem", "Vanilla"},
    {"Jellyfish", "Vanilla"},
    {"Lemurian", "Vanilla"},
    {"Elder Lemurian", "Vanilla"},
    {"Scavenger", "Vanilla"},
    {"Wisp", "Vanilla"},
    {"Magma Worm", "Vanilla"},
}

-- LEVEL DATA END --
local function r(t,n,o)local q=_G[t].find(n,o)return q or error("Failed to resolve "..n..":"..o.. " ("..t.."), make sure all resources are loaded before loading the stage.") end

local function mkObjs()
    local bg = Object("PELDR_BG")
    local ts = Object("PELDR_TS")
	local c = camera
	local x,y,w,h=0,0,0,0
    callback("onCameraUpdate", function() if bg:find(1) or ts:find(1) then x,y,w,h=camera.x,camera.y,camera.width,camera.height end end, -100)
    local z = {}
    callback("globalRoomEnd", function(r)
        for k, _ in pairs(z) do
            if Surface.isValid(k) then
                k:free()
            end
        end
    end, -100)
    
    local di,st,rst = graphics.drawImage,graphics.setTarget,graphics.resetTarget
    local function chnk(s, ts, x, y, o)
        local r = {0, 0, 16, 16}
        local d = {image = s, x = 0, y = 0, region = r}
        local sf = Surface(512, 512)
        st(sf)
        local w
        for _x = x / 16, (x + 512) / 16 do
            local q = ts[_x]
            if q ~= nil then
                for _y = y / 16, (y + 512) / 16 do
                    local t = q[_y]
                    if t ~= nil then
                        r[1] = t[1] * 16 + (o or (t[1] + 1))
                        r[2] = t[2] * 16 + (o or (t[2] + 1))
                        d.x = _x * 16 - x
                        d.y = _y * 16 - y
                        w = 1
                        di(d)
                    end
                end
            end
        end
        rst()
        if not w then
            sf:free()
            return 0
        else
            z[sf] = 1
            return sf
        end
    end
    local mf,mc = math.floor, math.ceil
    local vld = Surface.isValid
	ts:addCallback("draw", function(i)
		local d=i:getModData("PELDR")
        local c = d.c
        for X = mf(x / 512), mc((x + w) / 512) do
            local q = c[X]
            if q == nil then
                q = {}
                c[X] = {}
            end
            for Y = mf(y / 512), mc((y + h) / 512) do
                local cc = q[Y]
                if cc ~= 0 and not vld(cc) then
                    if cc ~= nil then
                        z[cc] = nil
                    end
                    cc = chnk(d.s, d.t, X * 512, Y * 512,d.g or 0)
                    q[Y] = cc
                end
                if cc ~= 0 then
                    cc:draw(X * 512, Y * 512)
                end
            end
        end
	end)
    
	bg:addCallback("draw", function(i)
		local d=i:getModData("PELDR")
		local s=d.s
		
		local fx,fy=d.x+x*d.px+w*d.xo,d.y+y*d.py+h*d.yo

		local sw,x1,x2=1,fx,fx
		if d.hr then
			sw = s.width
			x1 = x1 % sw + x - x % sw - sw
			x2 = x + w
		end

		local sh,y1,y2=1,fy,fy
		if d.vr then
			sh=s.height
			y1 = y1 % sh + y - y % sh - sh
			y2=y + h
		end

		for X=x1,x2,sw do for Y=y1,y2,sh do s:draw(X,Y)end end
	end)
	return ts,bg
end
local ts,bg=Object.find("PELDR_TS"),Object.find("PELDR_BG")
if ts == nil then ts,bg=mkObjs()end

local function spawnBG(sprite, depth, x, y, hrepeat, vrepeat, xparallax, yparallax, xpercentoffs, ypercentoffs)
	local i=bg:create(0,0)
	d=i:getModData("PELDR")
	i.depth = depth
	d.s = sprite
	d.x = x
	d.y = y
	d.hr = hrepeat
	d.vr = vrepeat
	d.px = xparallax
	d.py = yparallax
	d.xo = xpercentoffs
	d.yo = ypercentoffs
end

local function spawnTS(sprite, depth, tiles, grid)
	local i=ts:create(0,0)
	d=i:getModData("PELDR")
    i.depth = depth
    d.c = {}
    d.s = sprite
    d.g = grid
    d.t = tiles
end

local room = Room.new(STAGE_INFO.name)
room:resize(STAGE_INFO.width, STAGE_INFO.height)
for col, coordlist in pairs(STAGE_COLLISION) do
	local obj = Object.find(col, "Vanilla")
	for _, coords in ipairs(coordlist) do
        room:createInstance(obj, coords[1]*8, coords[2]*8)
    end
end
for _, objectlist in ipairs(STAGE_OBJECTS) do
	local obj = r("Object", objectlist[1], objectlist[2])
	for _, coords in ipairs(objectlist[3]) do
		room:createInstance(obj, coords[1]*8, coords[2]*8)
	end
end

local stage = Stage.new(STAGE_INFO.name)
stage.subname = STAGE_INFO.subname
stage.rooms:add(room)
stage.music = Sound.find(STAGE_INFO.music) or Sound.find("MusicStage1")

for _, i in ipairs(STAGE_INTERACTABLES) do
    stage.interactables:add(r("Interactable", i[1], i[2]))
end
for _, e in ipairs(STAGE_ENEMIES) do
    stage.enemies:add(r("MonsterCard", e[1], e[2]))
end

local bgs = {}
for k, v in pairs(STAGE_BACKGROUNDS) do
    table.insert(bgs, {r("Sprite", v[1], v[2]), k, v[7], v[8], v[3]==1, v[4]==1, v[5], v[6], v[9], v[10]})
end
local lrs = {}
for _, v in ipairs(STAGE_LAYERS) do
    table.insert(lrs, {r("Sprite", v.sprite, v.origin), v.depth, v.tiles, v.grid})
end
local function mrgcol(o)
    for _, v in ipairs(o:findAll()) do
        v.xscale = 1 / 16
    end
    local c
    repeat
        c = 0
        for _, v in ipairs(o:findAll()) do
            if v:isValid() and v.xscale < 1 then
                local s = o:findPoint(v:get("bbox_right") + 16, v.y)
                if s and s.xscale < 1 then
                    c = 1
                    v.xscale = v.xscale + s.xscale
                    s:destroy()
                end
            end
        end
    until c == 0
end
local bs = Object.find("bossSpawn","vanilla")
local bs2 = Object.find("bossSpawn2","vanilla")
callback("globalRoomStart", function(r)
    if r == room then
        for _, v in ipairs(bgs) do
            spawnBG(table.unpack(v))
        end
        for _, v in ipairs(lrs) do
            spawnTS(table.unpack(v))
        end
        mrgcol(bs)
        mrgcol(bs2)
    end
end)


return stage